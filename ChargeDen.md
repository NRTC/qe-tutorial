
1.10- بدست آوردنChargeDens  (تراکم چگالی بار)
برای بدست آوردن و مشاهده تراکم چگالی بار لازم است اجرای  scf و ChargeDens را انجام دهیم.
ChargeDens:
pw.x <scf.in> scf.out
pp.x <ChargeDens.in> ChargeDens.out


اين برنامه شامل دو مرحله زير است:
يكسري اطلاعات را از فايل خروجي كه توسط برنامه توليد شده مي خواند و كميت هاي مورد نظر ما را از آن استخراج مي كند .اطلاعاتي از قبيل پتانسيل و چگالي بار و غيره
-2 كميت مورد نظر ما را با فرمتي كه براي رسم مناسب باشد در يك فايل خروجي توليد مي كند.



شکل 70 ورودی ChargeDens گرافن
با توجه به شکل 70، خط دوم آدرس خروجی برنامه، خط 7 یعنی چه تعداد برنامه کشیده شود و خط 10مشخص می‌کند که تصویر در صفحه به صورت دو بعدی  یا سه بعدی کشیده شود. همچنین خط 11 بیانگر این است که برنامه در خروجی در فرمت سه بعدی رسم شود. خط 13 و 14 مبدا متوازی الاضلاعی است که در  شکل 73 رسم شده است. خط 16 تعداد نقاط رنگی است که هر چه بیشتر باشد دقت بیشتر می‌شود. در قسمت زیرین  می‌توانید جزییات بیشتر آن را مشاهده کنید.

&inputpp
prefix = ''
outdir = ''
filplot = 'case-charge'
plot_num = 0
spin_component = 0
/
&plot
nfile = 1
filepp(1) = 'case-charge'
weight(1) = 1.0
iflag = 2
output_format = 2
fileout = 'case-charge.dat'
e1(1) = 1.0, e1(2) = 1.0, e1(3) = 0.0,
e2(1) = 0.0, e2(2) = 0.0, e2(3) = 1.0,
x0(1) = 0.0, x0(2) = 0.0, x0(3) = 0.0,
nx=56, ny=40


inputpp : شامل متغيرهاي ورودي براي اجراي گام اول
&Plot: شامل متغيرهاي ورودي براي اجراي گام دوم
هر كدام از دو مرحله بالا را مي توان به صورت مجزا از يكديگر نيز انجام داد. اگر بخواهيم فقط مرحله دوم را انجام دهيم بايد بخش &inputpp را خالي بگذاريم. ولي براي اينكه فقط گام اول را انجام دهيم آنگاه بخش &plot را نمی آوریم.
 : prefixپيشوند بايد مشابه پيشوند فايل ذخيره شده توسط برنامه pw.x   باشد.
 outdir : آدرس دايركتوري كه فايل هاي خروجي در آنجا ذخيره شده اند.
Filplot: خروجی این برنامه در فایلی pp.x به اين اسم ذخيره مي شوند.
plot_num: در اين قسمت مشخص مي كنيم كه برنامه چه كميتي را براي ما از فايل هاي خروجي برنامه pw.x استخراج کرده و در filplot ذخیره کند.
بسته به نوع كميت مورد نظر ما بايد يكي از اعداد زير را وارد كنيم. مثلا براي محاسبه بار عدد صفر و براي محاسبه پتانسیل یک می گذاریم.
spin_component:  پس از پلات نامبر بسته به نوع آن بايد گزينه هاي ديگري را نيز براي برخي از آنها وارد کرد مثلا برای بار داریم:
عدد صفر: بار كل را حساب مي كند.
عدد يك : بار مربوط به اسپين هاي بالا
عدد دو : بار مربوط به اسپين هاي پايين
اكنون به توضيح بخش &plot  می پردازیم.
: nfile تعداد فايل هاي ورودي براي رسم.
filepp(i): نام فايل خروجي حاوي اطلاعات كه در قسمت قبل وارد كرديم.
: weight(i) ضريب وزن مربوط به هر فايل
: iflag تعيين كننده نوع دو بعدی یا سه بعدی نمودار براي رسم (2یا 3) 
 :Output_formatانتخاب نوع فرمت داده هاي خروجي در دو بعد یا سه بعد (انتخاب 2 یا 3)


شکل 71 فایل های ورودی و خروجی شارژدنسیتی

براي رسم كميت مورد نظر درسه بعد به سراغ xcrysden می رویم: به این صورت که از  file این برنامه خروجی با پسوند .xsf را فراخوانی می‌کنیم. 
 با استفاده از نوار منوی بالای xcrysden گزینه modify، آخرین گزینه یا shift+n می‌توان  سلول را در راستای محور ها چند برابر کرد. توجه داشته باشید اگر این فایل را با پسوند xsf ذخیره کنید، با توجه به نیازتان که در چه راستایی سلول را گسترش دادید، می‌توانید امتیک پزیشن آن را در فایل scf خود بگدارید و در سوپر سلول ها از آن ها بهره ببرید.
همچنین در  نوار منوی بالا از گزینه  displayبا تیک atomic system رنگ و نام عناصر مشخص می‌شوند.
حال برای مشاهده تراکم بار در این نرم افزار از tool گزینه data grid را انتخاب می‌کنیم، پنجره ای مطابق شکل 72 باز می‌شود که آن را ویرایش می‌کنیم و پس از submit آن شکل 73 را مشاهده خواهید کرد.



شکل 72  صفحه مشخصات شارژدنسیتی


شکل 73 رسم شارژدنسیتی در xcrysden
توجه:اگر در ورودی برنامه iflag=3  باشد :
